@theme {
  /* Fonts */
  --font-fh-lecturis: var(--font-fh-lecturis);
  --font-abc-diatype: var(--font-abc-diatype);
  --font-macan-mono: var(--font-macan-mono);

  --font-regular: 400;

  /* Optimized font sizes for information-heavy content */
  --text-4xs: 0.625rem; /* 10px - for very small labels */
  --text-3xs: 0.75rem; /* 12px - improved from 11px */
  --text-2xs: 0.8125rem; /* 13px - new intermediate size */
  --text-xs: 0.875rem; /* 14px - kept same */
  --text-sm: 0.9375rem; /* 15px - kept same */
  --text-base: 0.9375rem; /* 15px - reduced from 16px for better density */
  --text-md: 1rem; /* 16px - moved from base */
  --text-lg: 1.125rem; /* 18px - kept same */
  --text-xl: 1.25rem; /* 20px - kept same */
  --text-2xl: 1.5rem; /* 24px - increased from 20px */
  --text-3xl: 1.75rem; /* 28px - kept same */
  --text-4xl: 2rem; /* 32px - kept same */
  --text-5xl: 2.25rem; /* 36px - kept same */
  --text-6xl: 2.5rem; /* 40px - kept same */
  --text-7xl: 3.5rem; /* 56px - kept same */
  --text-8xl: 4rem; /* 64px - kept same */
  --text-9xl: 5rem; /* 80px - kept same */
  --text-10xl: 7.5rem; /* 120px - kept same */

  /* ... existing scaling font calculations ... */
  --text-h1: clamp(var(--text-8xl), 3.648rem + 1.502vw, var(--text-9xl));
  --text-h1--line-height: clamp(4.75rem, 4.592rem + 0.676vw, 5.2rem);
  --text-h1--letter-spacing: clamp(-0.12rem, -0.145rem + 0.105vw, -0.05rem);
  --text-h1--font-weight: var(--font-medium);

  --text-h2: clamp(var(--text-6xl), 2.148rem + 1.502vw, var(--text-7xl));
  --text-h2--line-height: clamp(2.6rem, 2.234rem + 1.562vw, 3.64rem);
  --text-h2--letter-spacing: -0.05rem;
  --text-h2--font-weight: var(--font-medium);

  --text-h3: clamp(var(--text-5xl), 2.162rem + 0.376vw, var(--text-6xl));
  --text-h3--line-height: clamp(2.655rem, 2.551rem + 0.443vw, 2.95rem);
  --text-h3--letter-spacing: clamp(-0.025rem, -0.026rem + 0.004vw, -0.022rem);
  --text-h3--font-weight: var(--font-medium);

  --text-xl: clamp(var(--text-4xl), 1.5rem + 2vw, var(--text-6xl));
  --text-xl--line-height: clamp(2.2rem, 1.8rem + 1.5vw, 2.8rem);
  --text-xl--letter-spacing: clamp(-0.05rem, -0.08rem + 0.1vw, -0.02rem);
  --text-xl--font-weight: var(--font-regular);

  --text-stat-display: clamp(var(--text-8xl), 3.648rem + 1.502vw, var(--text-9xl));
  --text-stat-display--line-height: clamp(4.16rem, 3.794rem + 1.562vw, 5.2rem);
  --text-stat-display--letter-spacing: clamp(-0.25rem, -0.282rem + 0.135vw, -0.16rem);
  --text-stat-display--font-weight: var(--font-regular);

  /* Optimized static fonts for information density */
  --text-h4: var(--text-3xl);
  --text-h4--line-height: 2.065rem;
  --text-h4--letter-spacing: -0.0175rem;
  --text-h4--font-weight: var(--font-medium);

  --text-h5: var(--text-2xl);
  --text-h5--line-height: 1.475rem;
  --text-h5--letter-spacing: 0;
  --text-h5--font-weight: var(--font-regular);

  /* Improved body text for better readability in dense content */
  --text-p1: var(--text-base); /* Now 15px instead of 16px */
  --text-p1--line-height: 1.5rem; /* Improved from 1.32rem for better readability */
  --text-p1--letter-spacing: 0.0045rem;
  --text-p1--font-weight: var(--font-regular); /* Changed from medium to regular */

  --text-p2: var(--text-sm); /* Now 15px instead of 14px */
  --text-p2--line-height: 1.4rem; /* Improved from 1.25125rem */
  --text-p2--letter-spacing: 0.0075rem;
  --text-p2--font-weight: var(--font-regular);

  --text-p2-mono: var(--text-base); /* Now 15px instead of 14px */
  --text-p2-mono--line-height: var(--text-lg);
  --text-p2-mono--letter-spacing: 0.075rem;
  --text-p2-mono--font-weight: var(--font-medium);

  --text-inline-link: var(--text-base); /* Now 15px instead of 18px */
  --text-inline-link--line-height: 1.5rem;
  --text-inline-link--letter-spacing: -0.00438rem;
  --text-inline-link--font-weight: var(--font-regular);

  --text-eyebrow: var(--text-xs); /* Now 14px instead of 14.112px */
  --text-eyebrow--line-height: var(--text-xs);
  --text-eyebrow--letter-spacing: 0.09375rem;
  --text-eyebrow--font-weight: var(--font-medium);

  --text-button: var(--text-sm); /* Kept at 15px */
  --text-button--line-height: var(--text-sm);
  --text-button--letter-spacing: 0.09375rem;
  --text-button--font-weight: var(--font-medium);

  /* New utility class for very small text */
  --text-micro: var(--text-4xs);
  --text-micro--line-height: var(--text-3xs);
  --text-micro--letter-spacing: 0.06875rem;
  --text-micro--font-weight: var(--font-semibold);

  --text-caption: var(--text-3xs); /* Now 12px instead of 11px */
  --text-caption--line-height: var(--text-sm);
  --text-caption--letter-spacing: 0.06875rem;
  --text-caption--font-weight: var(--font-semibold);
}

@media (min-width: 23.5rem) {
  :root {
    --text-h4: var(--text-4xl);
    --text-h4--line-height: 2.36rem;
    --text-h4--letter-spacing: -0.02rem;

    --text-h5: var(--text-3xl);
    --text-h5--line-height: 2.065rem;
    --text-h5--letter-spacing: -0.00438rem;

    --text-p1: var(--text-md); /* Now 16px on larger screens */
    --text-p1--line-height: 1.6rem; /* Improved line height */
    --text-p1--letter-spacing: -0.00438rem;

    --text-eyebrow: var(--text-sm); /* Now 15px instead of 17px */
    --text-eyebrow--line-height: var(--text-sm);
    --text-eyebrow--letter-spacing: 0.10625rem;

    --text-p2: var(--text-base); /* Now 15px instead of 16px */
    --text-p2--line-height: 1.5rem; /* Improved from 1.4rem */
  }
}

@layer base {
  h1,
  .h1 {
    @apply font-abc-diatype text-h1;
  }

  h2,
  .h2 {
    @apply font-abc-diatype text-h2;
  }

  h3,
  .h3 {
    @apply font-abc-diatype text-h3;
  }

  h4,
  .h4 {
    @apply font-abc-diatype text-h4;
  }

  h5,
  .h5 {
    @apply font-abc-diatype text-h5;
  }

  p {
    @apply font-abc-diatype text-p1;
  }

  .text-micro {
    @apply font-macan-mono uppercase;
  }

  .text-p1 {
    @apply font-abc-diatype;

    + .text-p1 {
      margin-top: var(--spacing-2xs-a);
    }

    @media (min-width: 376px) {
      + .text-p1 {
        margin-top: var(--spacing-xs);
      }
    }
  }

  .text-p2 {
    + .text-p2 {
      margin-top: var(--spacing-2xs);
    }
  }

  .text-p2-mono {
    @apply font-macan-mono uppercase;
  }

  .text-xl {
    @apply font-fh-lecturis;
  }

  .text-stat-display {
    @apply font-fh-lecturis;
  }

  .text-inline-link {
    @apply font-abc-diatype relative underline underline-offset-7;
  }

  .text-caption {
    @apply font-macan-mono uppercase;
  }

  ul:not(.unstyled-list) {
    @apply text-p1 list-inside;

    li {
      @apply not-first:mt-2xs sm:not-first:mt-xs relative ps-[18px];

      &::before {
        @apply absolute -start-0 text-[6px];
        content: "\25FC";
      }
    }
  }

  ol:not(.unstyled-list) {
    @apply text-p1 list-inside;

    li {
      @apply relative ps-[25px] not-first:mt-[var(--spacing-2xs)] sm:not-first:mt-[var(--spacing-xs)];

      &::before {
        @apply font-macan-mono absolute start-[0];
        content: counter(list-item) ".";
      }
    }
  }

  .text-eyebrow {
    @apply font-macan-mono px-3xs before:-left-3xs ms-3xs after:-right-3xs relative mr-auto inline-block self-start uppercase before:absolute before:content-['['] after:absolute after:content-[']'];
  }

  .text-discount {
    @apply text-h4 line-through opacity-50;
  }

  .text-ticker {
    @apply font-macan-mono mr-xs relative pr-[calc(var(--spacing-xs)+4px)] text-sm uppercase after:absolute after:top-[2px] after:right-0 after:bottom-0 after:my-auto after:h-[4px] after:text-[0.438rem] after:leading-0 after:content-['\25A0'];
  }

  button:not(.text-inline-link),
  .text-button:not(.text-inline-link),
  .cta:not(.text-inline-link) {
    @apply font-macan-mono text-button uppercase;

    &[disabled] {
      @apply bg-button-fill-disabled text-primary cursor-not-allowed;
    }
  }
}
